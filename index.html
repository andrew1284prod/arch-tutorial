<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arch Linux - Полное руководство по установке</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <style>
        /* Общие стили */
        :root {
            --primary: #1793d1;
            --secondary: #0c5d87;
            --accent: #ff8c00;
            --dark: #0d1117;
            --darker: #090c10;
            --light: #f5f5f5;
            --gray: #8b949e;
            --success: #238636;
            --warning: #9e6a03;
            --danger: #f85149;
            --code-bg: #161b22;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background-color: var(--dark);
            color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Стили для экрана выбора устройства */
        .device-select-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            background: linear-gradient(135deg, var(--darker) 0%, var(--secondary) 100%);
            text-align: center;
            animation: fadeIn 0.8s ease;
        }
        
        .device-select-screen h1 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: white;
        }
        
        .device-options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            margin-bottom: 40px;
            max-width: 800px;
            width: 100%;
        }
        
        .device-option {
            flex: 1;
            min-width: 280px;
            max-width: 350px;
            background-color: rgba(13, 17, 23, 0.7);
            border-radius: 15px;
            padding: 40px 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .device-option:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            box-shadow: 0 15px 40px rgba(23, 147, 209, 0.2);
        }
        
        .device-option i {
            font-size: 4rem;
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .device-option h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: white;
        }
        
        .device-option p {
            color: var(--gray);
            font-size: 1rem;
            line-height: 1.5;
        }
        
        .device-hint {
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 30px;
            max-width: 600px;
        }
        
        /* Скрыть основное содержимое по умолчанию */
        .main-content-wrapper {
            display: none;
        }
        
        /* Стили для ПК версии */
        .desktop-version .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .desktop-version .sidebar {
            flex: 1;
            min-width: 280px;
            background-color: var(--darker);
            border-radius: 10px;
            padding: 20px;
            height: fit-content;
            position: sticky;
            top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .desktop-version .content {
            flex: 3;
            min-width: 300px;
        }
        
        /* Стили для мобильной версии */
        .mobile-version .main-content {
            display: block;
            margin-bottom: 40px;
        }
        
        .mobile-version .sidebar {
            display: none; /* В мобильной версии боковая панель скрыта */
        }
        
        .mobile-version .content {
            width: 100%;
        }
        
        .mobile-nav {
            position: sticky;
            top: 0;
            z-index: 100;
            background-color: var(--darker);
            padding: 15px;
            border-bottom: 2px solid var(--primary);
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }
        
        .mobile-nav select {
            width: 100%;
            padding: 12px;
            background-color: var(--dark);
            color: white;
            border: 1px solid var(--primary);
            border-radius: 8px;
            font-size: 1rem;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%231793d1' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            background-size: 16px;
            padding-right: 40px;
        }
        
        .mobile-nav select:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(23, 147, 209, 0.3);
        }
        
        .mobile-step-indicator {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
            padding: 10px 15px;
            background-color: var(--darker);
            border-radius: 10px;
            border-left: 4px solid var(--primary);
        }
        
        .step-counter {
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        .mobile-nav-buttons {
            display: flex;
            gap: 10px;
        }
        
        .mobile-nav-btn {
            padding: 8px 15px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .mobile-nav-btn:active {
            transform: scale(0.98);
        }
        
        .mobile-nav-btn:hover {
            background-color: var(--primary);
        }
        
        .mobile-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Общие стили для контента (работают в обеих версиях) */
        header {
            background: linear-gradient(135deg, var(--darker) 0%, var(--secondary) 100%);
            padding: 2rem 0;
            border-bottom: 3px solid var(--primary);
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(23,147,209,0.1) 0%, rgba(13,17,23,0) 70%);
            z-index: 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: var(--primary);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: white;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .warning {
            background: rgba(158, 106, 3, 0.15);
            border-left: 4px solid var(--warning);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        .warning i {
            color: var(--warning);
            margin-right: 10px;
        }
        
        .step-nav {
            list-style: none;
        }
        
        .step-item {
            margin-bottom: 10px;
            padding: 12px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            border-left: 3px solid transparent;
        }
        
        .step-item:hover {
            background-color: rgba(23, 147, 209, 0.1);
        }
        
        .step-item.active {
            background-color: rgba(23, 147, 209, 0.2);
            border-left: 3px solid var(--primary);
            font-weight: bold;
        }
        
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background-color: var(--secondary);
            color: white;
            border-radius: 50%;
            margin-right: 15px;
            font-size: 0.9rem;
            flex-shrink: 0;
        }
        
        .step-item.active .step-number {
            background-color: var(--primary);
        }
        
        .step-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .step-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h2 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h2 i {
            font-size: 1.8rem;
        }
        
        .step-description {
            margin-bottom: 1.5rem;
            line-height: 1.7;
            color: #c9d1d9;
        }
        
        .code-block {
            background-color: var(--code-bg);
            border-radius: 8px;
            padding: 20px;
            margin: 1.5rem 0;
            overflow-x: auto;
            border: 1px solid #30363d;
            position: relative;
        }
        
        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .copy-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .copy-btn:hover {
            background-color: var(--primary);
        }
        
        .copy-btn.copied {
            background-color: var(--success);
        }
        
        pre {
            margin: 0;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        code {
            color: #d4d4d4;
        }
        
        .hljs {
            background: transparent;
            padding: 0;
        }
        
        .note {
            background-color: rgba(35, 134, 54, 0.1);
            border-left: 4px solid var(--success);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        .note i {
            color: var(--success);
            margin-right: 10px;
        }
        
        .danger {
            background-color: rgba(248, 81, 73, 0.1);
            border-left: 4px solid var(--danger);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        
        .danger i {
            color: var(--danger);
            margin-right: 10px;
        }
        
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #30363d;
        }
        
        .nav-btn {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }
        
        .nav-btn:hover:not(:disabled) {
            background-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(23, 147, 209, 0.3);
        }
        
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .troubleshooting {
            background-color: var(--darker);
            border-radius: 10px;
            padding: 25px;
            margin-top: 40px;
            border: 1px solid #30363d;
        }
        
        .troubleshooting h3 {
            color: var(--accent);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .troubleshooting-item {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #30363d;
        }
        
        .troubleshooting-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .troubleshooting-question {
            font-weight: bold;
            margin-bottom: 10px;
            color: #f0f6fc;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .troubleshooting-question i {
            color: var(--accent);
        }
        
        .progress-bar {
            height: 5px;
            background-color: #30363d;
            border-radius: 3px;
            margin: 30px 0 20px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--primary);
            border-radius: 3px;
            width: 12.5%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            text-align: center;
            color: var(--gray);
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        footer {
            text-align: center;
            padding: 2rem 0;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid #30363d;
            margin-top: 3rem;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }
        
        .footer-links a {
            color: var(--primary);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--accent);
            text-decoration: underline;
        }
        
        .back-to-device-select {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: var(--secondary);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.3s;
        }
        
        .back-to-device-select:hover {
            background-color: var(--primary);
        }
        
        /* Адаптивные стили */
        @media (max-width: 768px) {
            .desktop-version .main-content {
                flex-direction: column;
            }
            
            .desktop-version .sidebar {
                position: static;
                margin-bottom: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
            
            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-btn {
                justify-content: center;
            }
            
            .device-options {
                flex-direction: column;
                align-items: center;
            }
            
            .device-option {
                width: 100%;
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Экран выбора устройства -->
    <div class="device-select-screen" id="deviceSelectScreen">
        <div class="logo">
            <i class="fab fa-linux"></i>
            <h1>Arch Linux - Полное руководство по установке</h1>
        </div>
        <p class="subtitle">Выберите устройство, с которого вы зашли, для оптимального отображения руководства</p>
        
        <div class="device-options">
            <div class="device-option" id="desktopOption">
                <i class="fas fa-desktop"></i>
                <h3>Компьютер / Ноутбук</h3>
                <p>Полная версия сайта с боковой навигацией, удобной для управления с помощью мыши и клавиатуры.</p>
            </div>
            
            <div class="device-option" id="mobileOption">
                <i class="fas fa-mobile-alt"></i>
                <h3>Смартфон / Планшет</h3>
                <p>Адаптированная версия для мобильных устройств с удобным управлением и оптимизированным интерфейсом.</p>
            </div>
        </div>
        
        <p class="device-hint">
            <i class="fas fa-info-circle"></i> Выбор можно изменить в любой момент с помощью кнопки внизу страницы.
        </p>
    </div>
    
    <!-- Основной контент (изначально скрыт) -->
    <div class="main-content-wrapper" id="mainContentWrapper">
        <!-- Десктопная версия -->
        <div class="desktop-version" id="desktopVersion">
            <header>
                <div class="container">
                    <div class="logo">
                        <i class="fab fa-linux"></i>
                        <h1>Arch Linux - Полное руководство по установке</h1>
                    </div>
                    <p class="subtitle">Пошаговое руководство с пояснениями, примерами кода и решением распространённых проблем</p>
                    <div class="warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        <strong>Внимание:</strong> Установка Arch Linux требует базовых знаний о работе с Linux и командной строкой. Это руководство предназначено для опытных пользователей.
                    </div>
                </div>
            </header>
            
            <div class="container">
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="progress-text" id="progress-text">Шаг 1 из 8</div>
                
                <div class="main-content">
                    <nav class="sidebar">
                        <ul class="step-nav">
                            <li class="step-item active" data-step="1">
                                <span class="step-number">1</span>
                                <span class="step-title">Проверка интернета</span>
                            </li>
                            <li class="step-item" data-step="2">
                                <span class="step-number">2</span>
                                <span class="step-title">Разметка диска</span>
                            </li>
                            <li class="step-item" data-step="3">
                                <span class="step-number">3</span>
                                <span class="step-title">Форматирование</span>
                            </li>
                            <li class="step-item" data-step="4">
                                <span class="step-number">4</span>
                                <span class="step-title">Монтирование</span>
                            </li>
                            <li class="step-item" data-step="5">
                                <span class="step-number">5</span>
                                <span class="step-title">Установка пакетов</span>
                            </li>
                            <li class="step-item" data-step="6">
                                <span class="step-number">6</span>
                                <span class="step-title">Настройка системы</span>
                            </li>
                            <li class="step-item" data-step="7">
                                <span class="step-number">7</span>
                                <span class="step-title">Установка загрузчика</span>
                            </li>
                            <li class="step-item" data-step="8">
                                <span class="step-number">8</span>
                                <span class="step-title">Завершение</span>
                            </li>
                        </ul>
                        
                        <button class="back-to-device-select" id="desktopBackBtn">
                            <i class="fas fa-exchange-alt"></i> Сменить устройство
                        </button>
                    </nav>
                    
                    <main class="content">
                        <!-- Шаг 1: Проверка интернета -->
                        <section class="step-content active" id="step-1">
                            <h2><i class="fas fa-wifi"></i> Шаг 1: Проверка интернет-подключения</h2>
                            <div class="step-description">
                                <p>Перед началом установки необходимо убедиться, что у вас есть активное интернет-подключение. Arch Linux загружает пакеты из онлайн-репозиториев во время установки.</p>
                                <p>Если у вас проводное соединение, оно должно работать автоматически. Для беспроводного подключения используйте утилиту <code>iwctl</code>.</p>
                            </div>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Проверка подключения</span>
                                    <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                                </div>
                                <pre><code class="language-bash"># Проверка доступности сетевых ресурсов
ping archlinux.org -c 4

# Или альтернативный вариант
ping google.com -c 4</code></pre>
                            </div>
                            
                            <div class="note">
                                <i class="fas fa-lightbulb"></i>
                                <strong>Совет:</strong> Если команда <code>ping</code> не работает, это может означать, что у вас нет сетевого подключения или ICMP-трафик заблокирован. Попробуйте использовать <code>curl -I https://archlinux.org</code> для проверки.
                            </div>
                            
                            <h3>Для беспроводного подключения:</h3>
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Настройка Wi-Fi</span>
                                    <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                                </div>
                                <pre><code class="language-bash"># Запуск интерактивной утилиты для Wi-Fi
iwctl

# Внутри iwctl:
[iwd]# device list           # Показать доступные сетевые устройства
[iwd]# station wlan0 scan    # Просканировать сети (замените wlan0 на ваше устройство)
[iwd]# station wlan0 get-networks  # Показать найденные сети
[iwd]# station wlan0 connect "SSID"  # Подключиться к сети (укажите имя сети)

# Выйти из iwctl
[iwd]# exit</code></pre>
                            </div>
                        </section>
                        
                        <!-- Остальные шаги (шаги 2-7 аналогичны, для краткости опущены) -->
                        <!-- Шаг 2: Разметка диска -->
                        <section class="step-content" id="step-2">
                            <h2><i class="fas fa-hdd"></i> Шаг 2: Разметка диска</h2>
                            <div class="step-description">
                                <p>Определите целевой диск и создайте разделы. Для UEFI-системы вам понадобится как минимум два раздела: EFI System Partition (ESP) и корневой раздел.</p>
                            </div>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Определение дисков</span>
                                    <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                                </div>
                                <pre><code class="language-bash"># Показать все диски и разделы
lsblk

# Более подробная информация
fdisk -l</code></pre>
                            </div>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Разметка диска с помощью cfdisk</span>
                                    <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                                </div>
                                <pre><code class="language-bash"># Запуск cfdisk для нужного диска (например, /dev/sda)
cfdisk /dev/sda</code></pre>
                            </div>
                        </section>
                        
                        <!-- Шаг 3: Форматирование разделов -->
                        <section class="step-content" id="step-3">
                            <h2><i class="fas fa-file-export"></i> Шаг 3: Форматирование разделов</h2>
                            <div class="step-description">
                                <p>После создания разделов необходимо отформатировать их в соответствующие файловые системы.</p>
                            </div>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Форматирование ESP в FAT32</span>
                                    <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                                </div>
                                <pre><code class="language-bash"># Замените sdX1 на ваш EFI-раздел (например, /dev/sda1)
mkfs.fat -F32 /dev/sdX1</code></pre>
                            </div>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Форматирование корневого раздела в ext4</span>
                                    <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                                </div>
                                <pre><code class="language-bash"># Замените sdX2 на ваш корневой раздел (например, /dev/sda2)
mkfs.ext4 /dev/sdX2</code></pre>
                            </div>
                        </section>
                        
                        <!-- Шаг 8: Завершение -->
                        <section class="step-content" id="step-8">
                            <h2><i class="fas fa-flag-checkered"></i> Шаг 8: Завершение установки</h2>
                            <div class="step-description">
                                <p>Поздравляем! Основная часть установки завершена. Осталось только размонтировать разделы и перезагрузиться.</p>
                            </div>
                            
                            <div class="code-block">
                                <div class="code-header">
                                    <span>Завершение установки</span>
                                    <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                                </div>
                                <pre><code class="language-bash"># Размонтирование всех разделов
umount -R /mnt

# Перезагрузка системы
reboot</code></pre>
                            </div>
                            
                            <div class="warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>Важно:</strong> После перезагрузки не забудьте извлечь установочный носитель (флешку или диск), иначе система снова запустится с него.
                            </div>
                        </section>
                        
                        <!-- Навигационные кнопки -->
                        <div class="nav-buttons">
                            <button class="nav-btn" id="desktopPrevBtn" disabled>
                                <i class="fas fa-arrow-left"></i> Назад
                            </button>
                            <button class="nav-btn" id="desktopNextBtn">
                                Далее <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                        
                        <!-- Troubleshooting раздел -->
                        <div class="troubleshooting">
                            <h3><i class="fas fa-tools"></i> Troubleshooting - Решение проблем</h3>
                            
                            <div class="troubleshooting-item">
                                <div class="troubleshooting-question">
                                    <i class="fas fa-question-circle"></i>
                                    Нет интернета после запуска iwctl
                                </div>
                                <p>Убедитесь, что ваш Wi-Fi адаптер поддерживается. Для некоторых адаптеров нужны проприетарные драйверы.</p>
                            </div>
                            
                            <div class="troubleshooting-item">
                                <div class="troubleshooting-question">
                                    <i class="fas fa-question-circle"></i>
                                    Система не загружается после установки GRUB
                                </div>
                                <p>Убедитесь, что вы установили GRUB на правильный диск и правильно указали EFI-раздел.</p>
                            </div>
                        </div>
                    </main>
                </div>
                
                <footer>
                    <p>Arch Linux Installation Guide © 2023</p>
                    <div class="footer-links">
                        <a href="https://archlinux.org/" target="_blank"><i class="fas fa-external-link-alt"></i> Официальный сайт</a>
                        <a href="https://wiki.archlinux.org/" target="_blank"><i class="fas fa-book"></i> Arch Wiki</a>
                    </div>
                </footer>
            </div>
        </div>
        
        <!-- Мобильная версия -->
        <div class="mobile-version" id="mobileVersion">
            <header>
                <div class="container">
                    <div class="logo">
                        <i class="fab fa-linux"></i>
                        <h1>Arch Linux - Руководство</h1>
                    </div>
                    <p class="subtitle">Оптимизированная версия для мобильных устройств</p>
                    <div class="warning">
                        <i class="fas fa-exclamation-triangle"></i>
                        <strong>Внимание:</strong> Установка Arch Linux требует опыта работы с Linux.
                    </div>
                </div>
            </header>
            
            <div class="container">
                <!-- Мобильная навигация -->
                <div class="mobile-nav">
                    <select id="mobileStepSelect">
                        <option value="1">Шаг 1: Проверка интернета</option>
                        <option value="2">Шаг 2: Разметка диска</option>
                        <option value="3">Шаг 3: Форматирование</option>
                        <option value="4">Шаг 4: Монтирование</option>
                        <option value="5">Шаг 5: Установка пакетов</option>
                        <option value="6">Шаг 6: Настройка системы</option>
                        <option value="7">Шаг 7: Установка загрузчика</option>
                        <option value="8">Шаг 8: Завершение</option>
                    </select>
                    
                    <div class="mobile-step-indicator">
                        <div class="step-counter" id="mobileStepCounter">Шаг 1 из 8</div>
                        <div class="mobile-nav-buttons">
                            <button class="mobile-nav-btn" id="mobilePrevBtn" disabled>
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="mobile-nav-btn" id="mobileNextBtn">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="progress-bar">
                    <div class="progress" id="mobileProgress"></div>
                </div>
                
                <main class="content">
                    <!-- Шаг 1: Проверка интернета (мобильная версия) -->
                    <section class="step-content active" id="mobile-step-1">
                        <h2><i class="fas fa-wifi"></i> Шаг 1: Проверка интернета</h2>
                        <div class="step-description">
                            <p>Перед установкой убедитесь, что у вас есть активное интернет-подключение.</p>
                        </div>
                        
                        <div class="code-block">
                            <div class="code-header">
                                <span>Проверка подключения</span>
                                <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                            </div>
                            <pre><code class="language-bash">ping archlinux.org -c 4</code></pre>
                        </div>
                        
                        <div class="note">
                            <i class="fas fa-lightbulb"></i>
                            <strong>Совет:</strong> Если <code>ping</code> не работает, попробуйте <code>curl -I https://archlinux.org</code>.
                        </div>
                        
                        <h3>Для Wi-Fi:</h3>
                        <div class="code-block">
                            <div class="code-header">
                                <span>Настройка Wi-Fi</span>
                                <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                            </div>
                            <pre><code class="language-bash">iwctl
[iwd]# device list
[iwd]# station wlan0 scan
[iwd]# station wlan0 get-networks
[iwd]# station wlan0 connect "SSID"</code></pre>
                        </div>
                    </section>
                    
                    <!-- Шаг 2: Разметка диска (мобильная версия) -->
                    <section class="step-content" id="mobile-step-2">
                        <h2><i class="fas fa-hdd"></i> Шаг 2: Разметка диска</h2>
                        <div class="step-description">
                            <p>Определите диск и создайте разделы. Для UEFI нужны ESP и корневой раздел.</p>
                        </div>
                        
                        <div class="code-block">
                            <div class="code-header">
                                <span>Определение дисков</span>
                                <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                            </div>
                            <pre><code class="language-bash">lsblk</code></pre>
                        </div>
                        
                        <div class="danger">
                            <i class="fas fa-exclamation-circle"></i>
                            <strong>Внимание:</strong> Убедитесь, что выбрали правильный диск! Все данные на нём будут удалены.
                        </div>
                        
                        <div class="code-block">
                            <div class="code-header">
                                <span>Разметка диска</span>
                                <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                            </div>
                            <pre><code class="language-bash">cfdisk /dev/sda</code></pre>
                        </div>
                    </section>
                    
                    <!-- Шаг 8: Завершение (мобильная версия) -->
                    <section class="step-content" id="mobile-step-8">
                        <h2><i class="fas fa-flag-checkered"></i> Шаг 8: Завершение</h2>
                        <div class="step-description">
                            <p>Поздравляем! Основная часть установки завершена.</p>
                        </div>
                        
                        <div class="code-block">
                            <div class="code-header">
                                <span>Завершение установки</span>
                                <button class="copy-btn"><i class="far fa-copy"></i> Копировать</button>
                            </div>
                            <pre><code class="language-bash">umount -R /mnt
reboot</code></pre>
                        </div>
                        
                        <div class="warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <strong>Важно:</strong> Не забудьте извлечь установочную флешку после перезагрузки.
                        </div>
                    </section>
                    
                    <!-- Кнопка возврата к выбору устройства -->
                    <button class="back-to-device-select" id="mobileBackBtn" style="margin-top: 30px;">
                        <i class="fas fa-exchange-alt"></i> Сменить устройство
                    </button>
                    
                    <!-- Упрощенный Troubleshooting для мобильных -->
                    <div class="troubleshooting">
                        <h3><i class="fas fa-tools"></i> Решение проблем</h3>
                        
                        <div class="troubleshooting-item">
                            <div class="troubleshooting-question">
                                <i class="fas fa-question-circle"></i>
                                Нет интернета?
                            </div>
                            <p>Проверьте, загружен ли драйвер Wi-Fi: <code>lsmod | grep wifi</code></p>
                        </div>
                        
                        <div class="troubleshooting-item">
                            <div class="troubleshooting-question">
                                <i class="fas fa-question-circle"></i>
                                Не загружается система?
                            </div>
                            <p>Проверьте, правильно ли установлен GRUB и включен ли UEFI в BIOS.</p>
                        </div>
                    </div>
                </main>
                
                <footer>
                    <p>Arch Linux Mobile Guide © 2023</p>
                    <div class="footer-links">
                        <a href="https://wiki.archlinux.org/" target="_blank"><i class="fas fa-book"></i> Arch Wiki</a>
                    </div>
                </footer>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Инициализация подсветки синтаксиса
            hljs.highlightAll();
            
            // Элементы для управления интерфейсом
            const deviceSelectScreen = document.getElementById('deviceSelectScreen');
            const mainContentWrapper = document.getElementById('mainContentWrapper');
            const desktopVersion = document.getElementById('desktopVersion');
            const mobileVersion = document.getElementById('mobileVersion');
            const desktopOption = document.getElementById('desktopOption');
            const mobileOption = document.getElementById('mobileOption');
            const desktopBackBtn = document.getElementById('desktopBackBtn');
            const mobileBackBtn = document.getElementById('mobileBackBtn');
            
            // Автоматическое определение устройства
            function detectDevice() {
                const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                const isTablet = /iPad|Tablet|Touch/i.test(navigator.userAgent);
                const screenWidth = window.innerWidth;
                
                // Если мобильное устройство или маленький экран
                if (isMobile || isTablet || screenWidth < 768) {
                    // Показываем подсказку для мобильных
                    setTimeout(() => {
                        alert("Мы определили, что вы зашли с мобильного устройства. Рекомендуем выбрать мобильную версию для удобства.");
                    }, 500);
                    return 'mobile';
                } else {
                    return 'desktop';
                }
            }
            
            // Показать выбранную версию сайта
            function showVersion(version) {
                // Скрыть экран выбора
                deviceSelectScreen.style.display = 'none';
                
                // Показать основной контент
                mainContentWrapper.style.display = 'block';
                
                // Показать выбранную версию, скрыть другую
                if (version === 'desktop') {
                    desktopVersion.style.display = 'block';
                    mobileVersion.style.display = 'none';
                    initDesktopNavigation();
                } else {
                    desktopVersion.style.display = 'none';
                    mobileVersion.style.display = 'block';
                    initMobileNavigation();
                }
                
                // Сохранить выбор в localStorage
                localStorage.setItem('preferredVersion', version);
            }
            
            // Вернуться к выбору устройства
            function backToDeviceSelect() {
                deviceSelectScreen.style.display = 'flex';
                mainContentWrapper.style.display = 'none';
            }
            
            // Обработчики выбора устройства
            desktopOption.addEventListener('click', () => showVersion('desktop'));
            mobileOption.addEventListener('click', () => showVersion('mobile'));
            
            // Обработчики кнопок возврата
            desktopBackBtn.addEventListener('click', backToDeviceSelect);
            mobileBackBtn.addEventListener('click', backToDeviceSelect);
            
            // Проверить сохраненный выбор
            const savedVersion = localStorage.getItem('preferredVersion');
            if (savedVersion) {
                showVersion(savedVersion);
            } else {
                // Автоматически определить устройство при первом посещении
                const detectedDevice = detectDevice();
                // Показываем экран выбора, но с подсказкой
                deviceSelectScreen.style.display = 'flex';
            }
            
            // Навигация для десктопной версии
            function initDesktopNavigation() {
                let currentStep = 1;
                const totalSteps = 8;
                const stepItems = document.querySelectorAll('.desktop-version .step-item');
                const stepContents = document.querySelectorAll('.desktop-version .step-content');
                const prevBtn = document.getElementById('desktopPrevBtn');
                const nextBtn = document.getElementById('desktopNextBtn');
                const progressBar = document.getElementById('progress');
                const progressText = document.getElementById('progress-text');
                
                function updateStepDisplay() {
                    // Обновление активного шага в навигации
                    stepItems.forEach(item => {
                        item.classList.remove('active');
                        if (parseInt(item.dataset.step) === currentStep) {
                            item.classList.add('active');
                        }
                    });
                    
                    // Обновление отображаемого контента
                    stepContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === `step-${currentStep}`) {
                            content.classList.add('active');
                        }
                    });
                    
                    // Обновление состояния кнопок
                    prevBtn.disabled = currentStep === 1;
                    nextBtn.innerHTML = currentStep === totalSteps 
                        ? 'Завершить <i class="fas fa-check"></i>' 
                        : 'Далее <i class="fas fa-arrow-right"></i>';
                    
                    // Обновление прогресс-бара
                    const progressPercent = (currentStep / totalSteps) * 100;
                    progressBar.style.width = `${progressPercent}%`;
                    progressText.textContent = `Шаг ${currentStep} из ${totalSteps}`;
                }
                
                // Обработчики для навигации по шагам
                stepItems.forEach(item => {
                    item.addEventListener('click', function() {
                        currentStep = parseInt(this.dataset.step);
                        updateStepDisplay();
                    });
                });
                
                // Кнопка "Назад"
                prevBtn.addEventListener('click', function() {
                    if (currentStep > 1) {
                        currentStep--;
                        updateStepDisplay();
                    }
                });
                
                // Кнопка "Далее"
                nextBtn.addEventListener('click', function() {
                    if (currentStep < totalSteps) {
                        currentStep++;
                        updateStepDisplay();
                    } else {
                        alert('Поздравляем! Вы завершили изучение руководства по установке Arch Linux. Удачи в установке!');
                    }
                });
                
                // Кнопки копирования кода
                document.querySelectorAll('.desktop-version .copy-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const codeBlock = this.closest('.code-block').querySelector('code');
                        const codeText = codeBlock.textContent;
                        
                        // Копирование в буфер обмена
                        navigator.clipboard.writeText(codeText).then(() => {
                            const originalText = this.innerHTML;
                            this.innerHTML = '<i class="fas fa-check"></i> Скопировано!';
                            this.classList.add('copied');
                            
                            setTimeout(() => {
                                this.innerHTML = originalText;
                                this.classList.remove('copied');
                            }, 2000);
                        }).catch(err => {
                            console.error('Ошибка копирования: ', err);
                        });
                    });
                });
                
                updateStepDisplay();
            }
            
            // Навигация для мобильной версии
            function initMobileNavigation() {
                let currentStep = 1;
                const totalSteps = 8;
                const stepSelect = document.getElementById('mobileStepSelect');
                const stepContents = document.querySelectorAll('.mobile-version .step-content');
                const prevBtn = document.getElementById('mobilePrevBtn');
                const nextBtn = document.getElementById('mobileNextBtn');
                const progressBar = document.getElementById('mobileProgress');
                const stepCounter = document.getElementById('mobileStepCounter');
                
                function updateStepDisplay() {
                    // Обновление выпадающего списка
                    stepSelect.value = currentStep;
                    
                    // Обновление отображаемого контента
                    stepContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === `mobile-step-${currentStep}`) {
                            content.classList.add('active');
                        }
                    });
                    
                    // Обновление состояния кнопок
                    prevBtn.disabled = currentStep === 1;
                    nextBtn.disabled = currentStep === totalSteps;
                    
                    // Обновление прогресс-бара
                    const progressPercent = (currentStep / totalSteps) * 100;
                    progressBar.style.width = `${progressPercent}%`;
                    stepCounter.textContent = `Шаг ${currentStep} из ${totalSteps}`;
                    
                    // Плавная прокрутка к верху контента
                    document.querySelector('.mobile-version .content').scrollIntoView({ 
                        behavior: 'smooth', 
                        block: 'start' 
                    });
                }
                
                // Обработчик выпадающего списка
                stepSelect.addEventListener('change', function() {
                    currentStep = parseInt(this.value);
                    updateStepDisplay();
                });
                
                // Кнопка "Назад"
                prevBtn.addEventListener('click', function() {
                    if (currentStep > 1) {
                        currentStep--;
                        updateStepDisplay();
                    }
                });
                
                // Кнопка "Далее"
                nextBtn.addEventListener('click', function() {
                    if (currentStep < totalSteps) {
                        currentStep++;
                        updateStepDisplay();
                    }
                });
                
                // Кнопки копирования кода
                document.querySelectorAll('.mobile-version .copy-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const codeBlock = this.closest('.code-block').querySelector('code');
                        const codeText = codeBlock.textContent;
                        
                        // Копирование в буфер обмена
                        navigator.clipboard.writeText(codeText).then(() => {
                            const originalText = this.innerHTML;
                            this.innerHTML = '<i class="fas fa-check"></i> Скопировано!';
                            this.classList.add('copied');
                            
                            setTimeout(() => {
                                this.innerHTML = originalText;
                                this.classList.remove('copied');
                            }, 2000);
                        }).catch(err => {
                            console.error('Ошибка копирования: ', err);
                        });
                    });
                });
                
                // Свайпы для мобильных устройств
                let touchStartX = 0;
                let touchEndX = 0;
                
                document.querySelector('.mobile-version .content').addEventListener('touchstart', function(e) {
                    touchStartX = e.changedTouches[0].screenX;
                });
                
                document.querySelector('.mobile-version .content').addEventListener('touchend', function(e) {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                });
                
                function handleSwipe() {
                    const swipeThreshold = 50; // Минимальная дистанция свайпа
                    const diff = touchStartX - touchEndX;
                    
                    // Свайп влево (следующий шаг)
                    if (diff > swipeThreshold && currentStep < totalSteps) {
                        currentStep++;
                        updateStepDisplay();
                    }
                    // Свайп вправо (предыдущий шаг)
                    else if (diff < -swipeThreshold && currentStep > 1) {
                        currentStep--;
                        updateStepDisplay();
                    }
                }
                
                updateStepDisplay();
            }
        });
    </script>
</body>
</html>
